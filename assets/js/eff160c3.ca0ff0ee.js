"use strict";(self.webpackChunkcatenax_ng=self.webpackChunkcatenax_ng||[]).push([[3378],{6740:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>d,toc:()=>c});var r=t(5893),i=t(1151);const l={title:"Naming Convention"},s=void 0,d={id:"internal/naming-convention",title:"Naming Convention",description:"This guide is only for those who operate the environment",source:"@site/docs/internal/naming-convention.md",sourceDirName:"internal",slug:"/internal/naming-convention",permalink:"/docs/internal/naming-convention",draft:!1,unlisted:!1,editUrl:"https://github.com/catenax-ng/catenax-ng.github.io/edit/main/docs/internal/naming-convention.md",tags:[],version:"current",frontMatter:{title:"Naming Convention"},sidebar:"tutorialSidebar",previous:{title:"How To Use HashiCorp Vault",permalink:"/docs/internal/how-to-use-vault"},next:{title:"CX - 0001 EDC Discovery API v.1.0.0",permalink:"/docs/standards/CX-0001-EDCDiscoveryAPI/1.0.0/CX-0001-EDCDiscoveryAPI-v1.0.0"}},o={},c=[{value:"To Discuss",id:"to-discuss",level:2},{value:"General",id:"general",level:2},{value:"Do&#39;s",id:"dos",level:3},{value:"Dont&#39;s",id:"donts",level:3},{value:"Known Products",id:"known-products",level:2},{value:"GitHub",id:"github",level:2},{value:"Definition",id:"definition",level:3},{value:"Examples",id:"examples",level:3},{value:"Vault",id:"vault",level:2},{value:"Definition",id:"definition-1",level:3},{value:"Examples",id:"examples-1",level:3},{value:"ArgoCD",id:"argocd",level:2},{value:"Definition",id:"definition-2",level:3},{value:"Examples",id:"examples-2",level:3},{value:"ArgoCD Project And Kubernetes Namespace",id:"argocd-project-and-kubernetes-namespace",level:4},{value:"ArgoCD Cluster Secret",id:"argocd-cluster-secret",level:4}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"This guide is only for those who operate the environment"})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"This is a first proposal what topics will be handled by this naming convention."})}),"\n",(0,r.jsx)(n.h2,{id:"to-discuss",children:"To Discuss"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"Please use this section for brainstorming open topics or issues where we have to come to a decision."})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["How to handle teams which:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Requests more than one repository. How to identify those repos?"}),"\n",(0,r.jsx)(n.li,{children:"Or shall be a seperate product (team) created for this purpose?"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Add your open topics here"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"general",children:"General"}),"\n",(0,r.jsxs)(n.p,{children:["In general terms we are talking about products, not about teams. A team might change, the product will\r\nstay. This means the product (e.g. ",(0,r.jsx)(n.em,{children:"EDC"}),") is in focus for naming instead of the team, which is developing the product."]}),"\n",(0,r.jsx)(n.p,{children:"For any naming lowercase is used over UPPERCASE."}),"\n",(0,r.jsx)(n.h3,{id:"dos",children:"Do's"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Use lowercase"}),"\n",(0,r.jsx)(n.li,{children:"Use full name over shortcuts"}),"\n",(0,r.jsx)(n.li,{children:"Provide descriptions, e.g. for GitHub Teams or Repositories"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"donts",children:"Dont's"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["shortcut instead of full name","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["exception:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"when product name would be too long"}),"\n",(0,r.jsxs)(n.li,{children:["when talking about a well known shortcut (e.g. ",(0,r.jsx)(n.em,{children:"edc"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"known-products",children:"Known Products"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"To be removed from document in future ."})}),"\n",(0,r.jsx)(n.p,{children:"Known products as of now are (extract of existing GitHub teams, incl. example and test teams):"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"ArgoCDAdmins"}),"\n",(0,r.jsx)(n.li,{children:"cx-core-schemas"}),"\n",(0,r.jsx)(n.li,{children:"product-bpdm"}),"\n",(0,r.jsx)(n.li,{children:"product-bpdm-vas"}),"\n",(0,r.jsx)(n.li,{children:"product-catenax-at-home"}),"\n",(0,r.jsx)(n.li,{children:"product-data-format-transformer"}),"\n",(0,r.jsx)(n.li,{children:"product-data-integrity-demonstrator"}),"\n",(0,r.jsx)(n.li,{children:"product-dft"}),"\n",(0,r.jsx)(n.li,{children:"product-edc"}),"\n",(0,r.jsx)(n.li,{children:"product-esc-backbone"}),"\n",(0,r.jsx)(n.li,{children:"product-essential-services"}),"\n",(0,r.jsx)(n.li,{children:"product-integrity-demonstrator"}),"\n",(0,r.jsx)(n.li,{children:"product-managed-identity-wallets"}),"\n",(0,r.jsx)(n.li,{children:"product-material-pass"}),"\n",(0,r.jsx)(n.li,{children:"product-portal"}),"\n",(0,r.jsx)(n.li,{children:"product-semantics"}),"\n",(0,r.jsx)(n.li,{children:"product-team-example"}),"\n",(0,r.jsx)(n.li,{children:"product-test-data-generator"}),"\n",(0,r.jsx)(n.li,{children:"product-traceability-dft"}),"\n",(0,r.jsx)(n.li,{children:"product-traceability-irs"}),"\n",(0,r.jsx)(n.li,{children:"rbac-tests"}),"\n",(0,r.jsx)(n.li,{children:"team-hello-gitops"}),"\n",(0,r.jsx)(n.li,{children:"team-security"}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"Currently, there are some teams that doesn't apply to this naming convention."})}),"\n",(0,r.jsx)(n.h2,{id:"github",children:"GitHub"}),"\n",(0,r.jsx)(n.h3,{id:"definition",children:"Definition"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Item"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Naming Convention"}),(0,r.jsx)(n.th,{children:"Additional description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Team"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.em,{children:"product-productName"})}),(0,r.jsx)(n.td,{children:"Shall not contain shortcuts"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Repository"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.em,{children:"product-productName"})}),(0,r.jsx)(n.td,{children:"Shall not contain shortcuts"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.p,{children:"tbd."}),"\n",(0,r.jsx)(n.h2,{id:"vault",children:"Vault"}),"\n",(0,r.jsx)(n.h3,{id:"definition-1",children:"Definition"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Item"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Naming Convention"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Additional descr."})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Secret Engine"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.em,{children:"productName"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"AppRole"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.em,{children:"productName"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Policy"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.em,{children:"productName-rw"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"for personal usage, e.g GitHub or OIDClogin"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Policy"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.em,{children:"productName-ro"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"for AppRole usage with only read permissions granted"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Secret"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.em,{children:"productName-deploy-key"})}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:["SSH private key (GitHub deploy key -> ",(0,r.jsx)(n.a,{href:"/docs/guides/how-to-prepare-a-private-repo",children:"docu"}),")"]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Enable Secret Engine\r\n$ vault secrets enable -version=2 -path=productName kv\r\nSuccess! Enabled the kv secrets engine at: productName/\r\n\r\n# Create AppRole \r\n$ vault write auth/approle/role/productName \\\r\n    secret_id_ttl=10m \\\r\n    token_num_uses=10 \\\r\n    token_ttl=20m \\\r\n    token_max_ttl=30m \\\r\n    secret_id_num_uses=40\r\nSuccess! Data written to: auth/approle/role/productName\r\n\r\n# List existing AppRole definitions\r\n$ vault list auth/approle/role\r\nKeys\r\n----\r\nAppRole1\r\nAppRole2\r\nAppRole3\r\n\r\n# Issue Secret Id for Approle (listed secret_id and secret_id_accessor doesn't exist)\r\n$ vault write -f auth/approle/role/productName/secret-id\r\nKey                   Value\r\n---                   -----\r\nsecret_id             d8ff2be9-1ecb-4481-bfae-21071baf42c1\r\nsecret_id_accessor    701e38a4-408d-4db0-94cc-3166c7277daa\r\nsecret_id_ttl         10m\r\n\r\n# Read AppRole Id (listed role_id doesn't exist)\r\n$ vault read auth/approle/role/productName/role-id\r\nKey        Value\r\n---        -----\r\nrole_id    89dd5e0d-2991-4d0c-bb1a-a8b12ee7228f\r\n\r\n# Create Policy (policy will be read from file full_policy.hcl)\r\n$ vault policy write policy-full-productName full_policy.hcl \r\nSuccess! Uploaded policy: productName-rw\r\n\r\n# Create Policy (policy will be read from file full_policy.hcl)\r\n$ vault policy write policy-read-productName read_policy.hcl\r\nSuccess! Uploaded policy: productName-ro\r\n\r\n# Create GitHub auth mapping (with policy)\r\n$ vault write auth/github/map/teams/productName value=productName-rw\r\nSuccess! Data written to: auth/github/map/teams/productName\n"})}),"\n",(0,r.jsx)(n.h2,{id:"argocd",children:"ArgoCD"}),"\n",(0,r.jsx)(n.h3,{id:"definition-2",children:"Definition"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Item"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Naming Convention"}),(0,r.jsx)(n.th,{style:{textAlign:"left"},children:"Additional description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Kubernetes Namespace"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.em,{children:"product-productName"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"ArgoCD Project Name"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.em,{children:"project-productName"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"}})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"ArgoCD Cluster Secret Name"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.em,{children:"clusterName-cluster-secret"})}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"Representing the k8s secret name"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{style:{textAlign:"left"},children:"ArgoCD Child Cluster Name"}),(0,r.jsx)(n.td,{style:{textAlign:"left"},children:(0,r.jsx)(n.em,{children:"clusterName"})}),(0,r.jsxs)(n.td,{style:{textAlign:"left"},children:["as of now, this is ",(0,r.jsx)(n.em,{children:"dev"}),", ",(0,r.jsx)(n.em,{children:"core"})," or ",(0,r.jsx)(n.em,{children:"hotel-budapest"}),". It might be later contain also ",(0,r.jsx)(n.em,{children:"productName"})," if a product will get its own cluster"]})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"examples-2",children:"Examples"}),"\n",(0,r.jsx)(n.h4,{id:"argocd-project-and-kubernetes-namespace",children:"ArgoCD Project And Kubernetes Namespace"}),"\n",(0,r.jsx)(n.p,{children:"Each Catena-X product will get its own ArgoCD project and Kubernetes namespace at target cluster. Therefore, k8s namespace\r\nand ArgoCD project definition is handled within the same manifest file."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"apiVersion: v1\r\nkind: Namespace\r\nmetadata:\r\n  // highlight-next-line\r\n  name: product-[productName]\r\n---\r\napiVersion: argoproj.io/v1alpha1\r\nkind: AppProject\r\nmetadata:\r\n  // highlight-next-line\r\n  name: project-[productName]\r\n  namespace: argocd\r\nspec:\r\n  // highlight-next-line\r\n  description: Project for team [productName]\r\n  sourceRepos:\r\n    - '*'\r\n  destinations:\r\n    // highlight-next-line\r\n    - namespace: product-[productName]\r\n      server: https://kubernetes.default.svc\r\n  # Allow all namespaced-scoped resources to be created, except for ResourceQuota, LimitRange, NetworkPolicy\r\n  namespaceResourceBlacklist:\r\n    - group: ''\r\n      kind: ResourceQuota\r\n    - group: ''\r\n      kind: LimitRange\r\n   - group: ''\r\n      kind: NetworkPolicy\r\n  roles:\r\n    - name: team-admin\r\n      description: All access to applications inside project-bpdm. Read only on project itself\r\n      policies:\r\n      // highlight-next-line\r\n        - p, proj:project-[productName]:team-admin, applications, *, project-[productName]/*, allow\r\n      groups:\r\n        - catenax-ng:product-[productName]\n"})}),"\n",(0,r.jsx)(n.h4,{id:"argocd-cluster-secret",children:"ArgoCD Cluster Secret"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:'apiVersion: v1\r\nkind: Secret\r\nmetadata:\r\n  annotations:\r\n    // highlight-next-line\r\n    avp.kubernetes.io/path: "devsecops/data/clusters/[clusterName]/k8s"\r\n  labels:\r\n    argocd.argoproj.io/secret-type: cluster\r\n    // highlight-next-line\r\n  name: [clusterName]-cluster-secret\r\ntype: Opaque\r\nstringData:\r\n  name: <name>\r\n  server: <server>\r\n  config: |\r\n    {\r\n      "bearerToken": "<bearerToken>",\r\n      "tlsClientConfig": {\r\n        "insecure": false,\r\n        "caData": "<caData>"\r\n      }\r\n    }\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The highlighted lines contains naming convention relevant placeholder ",(0,r.jsx)(n.code,{children:"[clusterName]"}),". This should be replaced by the\r\nnative cluster name, e.g. ",(0,r.jsx)(n.em,{children:"core"})," (for ArgoCD core cluster)."]})]})}function h(e={}){const{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},1151:(e,n,t)=>{t.d(n,{Z:()=>d,a:()=>s});var r=t(7294);const i={},l=r.createContext(i);function s(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:s(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);