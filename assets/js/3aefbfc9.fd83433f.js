"use strict";(self.webpackChunkcatenax_ng=self.webpackChunkcatenax_ng||[]).push([[4382],{8222:(e,t,n)=>{n.r(t),n.d(t,{Spacer:()=>c,assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var i=n(5893),s=n(1151);const r={title:"Catena-X@Home Getting Started Guide"},a="Overview",o={id:"guides/catenax-at-home",title:"Catena-X@Home Getting Started Guide",description:"Catena-X@Home is a walkthrough of all essential Catena-X services.",source:"@site/docs/guides/catenax-at-home.mdx",sourceDirName:"guides",slug:"/guides/catenax-at-home",permalink:"/docs/guides/catenax-at-home",draft:!1,unlisted:!1,editUrl:"https://github.com/catenax-ng/catenax-ng.github.io/edit/main/docs/guides/catenax-at-home.mdx",tags:[],version:"current",frontMatter:{title:"Catena-X@Home Getting Started Guide"},sidebar:"tutorialSidebar",previous:{title:"How to use persistent storage",permalink:"/docs/guides/kubernetes/how-to-use-persistent-storage"},next:{title:"How To Create Documentation via GitHub Pages",permalink:"/docs/guides/how-to-create-doc-via-guthub-pages"}},d={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Setup",id:"setup",level:2},{value:"End-to-End Use Case",id:"end-to-end-use-case",level:2},{value:"Register EDC assets and Digital Twins",id:"register-edc-assets-and-digital-twins",level:3},{value:"Step 1: Create Sample Material Data",id:"step-1-create-sample-material-data",level:4},{value:"Step 2: Create an EDC Asset",id:"step-2-create-an-edc-asset",level:4},{value:"Step 3: Create an EDC policy",id:"step-3-create-an-edc-policy",level:4},{value:"Step 4: Create a EDC contract definition",id:"step-4-create-a-edc-contract-definition",level:4},{value:"Step 5: Register digital twin with a reference to submodel data",id:"step-5-register-digital-twin-with-a-reference-to-submodel-data",level:4},{value:"Request data of a digital twin",id:"request-data-of-a-digital-twin",level:3},{value:"Step 1: Query for a Digital Twin",id:"step-1-query-for-a-digital-twin",level:4},{value:"Step 2: Get Digital Twin by identification",id:"step-2-get-digital-twin-by-identification",level:4},{value:"Step 3: Get Submodel Data",id:"step-3-get-submodel-data",level:4}],c=({children:e})=>{const t={br:"br",div:"div",hr:"hr",...(0,s.a)()};return(0,i.jsxs)(t.div,{children:[(0,i.jsx)(t.hr,{}),(0,i.jsx)(t.br,{})]})};function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components},{Details:r}=t;return r||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h1,{id:"overview",children:"Overview"}),"\n",(0,i.jsx)(t.p,{children:"Catena-X@Home is a walkthrough of all essential Catena-X services.\nThe target users for Catena-X are developers and architects who want to learn the concepts and try them out on their own."}),"\n",(0,i.jsx)(t.h1,{id:"what-you-will-learn",children:"What You Will Learn"}),"\n",(0,i.jsxs)(t.p,{children:["In this guide, you will learn as ",(0,i.jsx)(t.strong,{children:"Data Provider"})," how to:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Create sample submodel data"}),"\n",(0,i.jsx)(t.li,{children:"Create an Eclipse Data Space Connector Assets and Contract Definition"}),"\n",(0,i.jsx)(t.li,{children:"Make your submodel data discoverable with Digital Twins and the Digital Twin Registry"}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["and as ",(0,i.jsx)(t.strong,{children:"Data Consumer"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Search for digital twins in the Digital Twin Registry"}),"\n",(0,i.jsx)(t.li,{children:"Request a data using Eclipse Data Space Connectors and digital twins as data consumer"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(t.p,{children:"Before starting this guide, you will need:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Tools Installed: ",(0,i.jsx)(t.a,{href:"https://docs.docker.com/get-docker/",children:"Docker"}),", ",(0,i.jsx)(t.a,{href:"https://docs.docker.com/compose/install/",children:"Docker Compose"}),", ",(0,i.jsx)(t.a,{href:"https://git-scm.com/downloads",children:"git"})," and ",(0,i.jsx)(t.a,{href:"https://www.postman.com/",children:"Postman"})]}),"\n",(0,i.jsxs)(t.li,{children:["GitHub Presonal Access Token: ",(0,i.jsx)(t.a,{href:"https://github.com/settings/tokens",children:"GitHub"})," with ",(0,i.jsx)(t.code,{children:"read:packages"})," permissions. You need the access token to download the docker images."]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"setup",children:"Setup"}),"\n",(0,i.jsx)(t.p,{children:"In this section, we will start the Catena-X Core services as docker containers."}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Clone the repository ",(0,i.jsx)(t.a,{href:"https://github.com/catenax-ng/catenax-at-home",children:"Catena-X"}),":","\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:" git clone https://github.com/catenax-ng/catenax-at-home.git\n"})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["Open a terminal and run:","\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"cd getting-started-guide\n"})}),"\n"]}),"\n",(0,i.jsx)(t.li,{children:"To start all relevant docker containers run:"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"  docker-compose up -d\n"})}),"\n",(0,i.jsxs)(t.ol,{start:"5",children:["\n",(0,i.jsx)(t.li,{children:"Verify that the docker containers are running:"}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"  docker ps\n"})}),"\n",(0,i.jsxs)(t.ol,{start:"6",children:["\n",(0,i.jsx)(t.li,{children:"The setup is now complete! In the next sections, we will interact with the services."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"end-to-end-use-case",children:"End-to-End Use Case"}),"\n",(0,i.jsx)(t.p,{children:"The interaction diagram below shows the complete interactions that we will go through."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"End-To-End interaction",src:n(5944).Z+"",width:"1173",height:"623"})}),"\n",(0,i.jsxs)(t.admonition,{type:"note",children:[(0,i.jsx)(t.p,{children:"In the upcoming sections, we will go through each of the relevant steps with explaniations."}),(0,i.jsxs)(t.p,{children:["To ",(0,i.jsx)(t.strong,{children:"try out the End-to-End"})," use case you need to import the Postman collection located in the repository:"]}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"    ./getting-started-guide/Catena-X@Home.postman_collection.json\n"})}),(0,i.jsx)(t.p,{children:"The Postman collection contains all relevant requests from the above diagram."}),(0,i.jsxs)(t.p,{children:["All variables are located at the collection level. You can view them in the ",(0,i.jsx)(t.code,{children:"Variables"})," tab.\n",(0,i.jsx)(t.img,{alt:"Postman variables",src:n(7987).Z+"",width:"1144",height:"537"})]})]}),"\n",(0,i.jsx)("br",{}),"\n",(0,i.jsx)(t.h3,{id:"register-edc-assets-and-digital-twins",children:"Register EDC assets and Digital Twins"}),"\n",(0,i.jsxs)(t.p,{children:["In this section, we will focus on the steps that a ",(0,i.jsx)(t.strong,{children:"Data Provider"})," has to follow."]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(t.p,{children:"Actor: Data Provider"})}),(0,i.jsx)("div",{children:(0,i.jsx)(t.p,{children:"The data provider registers AAS Descriptors and Submodel Descriptors so that consumers\ncan query for AAS Descriptors and request data via the Submodel Descriptor Endpoints."})})]}),"\n",(0,i.jsx)(c,{}),"\n",(0,i.jsx)(t.h4,{id:"step-1-create-sample-material-data",children:"Step 1: Create Sample Material Data"}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(t.p,{children:"What is a Submodel Server"})}),(0,i.jsx)("div",{children:(0,i.jsxs)(t.p,{children:["A Submodel Server is a service that serves data that you want to make available to data consumers.\nAlmost all organizations do have their own structure for their data. Hence, Data Providers will likely implement their own\nSubmodel Servers that mainly map their own structure into Catena-X defined Semantic Models.\n",(0,i.jsx)("p",{children:(0,i.jsx)("b",{children:"Being compliant with a Semantic Model is the only requirement for a Submodel Server. "})})]})})]}),"\n",(0,i.jsx)(t.p,{children:"For the purpose of the demonstration, we created a trivial Submodel Server that is compliant with the Semantic Model Traceability."}),"\n",(0,i.jsx)(t.p,{children:"The first request creates Traceability data. Our final goal is to make this data available to data consumers."}),"\n",(0,i.jsx)(t.admonition,{title:"Action",type:"note",children:(0,i.jsxs)(t.p,{children:["Please run the request ",(0,i.jsx)(t.code,{children:"1. Create Sample Data"})," of the ",(0,i.jsx)(t.strong,{children:"Postman"})," collection to create a data entry."]})}),"\n",(0,i.jsx)(t.p,{children:"You now created traceability data that we can use to share."}),"\n",(0,i.jsx)(c,{}),"\n",(0,i.jsx)(t.h4,{id:"step-2-create-an-edc-asset",children:"Step 2: Create an EDC Asset"}),"\n",(0,i.jsx)(t.p,{children:"The request payload to create an EDC Asset is:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "asset": {\n    "properties": {\n      // {{digitalTwinId}}-{{digitalTwinSubmodelId}}\n      // highlight-next-line\n      "asset:prop:id": "urn:uuid:365e6fbe-bb34-11ec-8422-0242ac120002-urn:uuid:61125dc3-5e6f-4f4b-838d-447432b97918",\n      "asset:prop:name": "product description",\n      "asset:prop:contenttype": "application/json",\n      "asset:prop:policy-id": "use-eu"\n    }\n  },\n  "dataAddress": {\n    "properties": {\n      // {{digitalTwinSubmodelId}}\n      // highlight-next-line\n      "endpoint": "http://provider-backend-service:8080/data/urn:uuid:61125dc3-5e6f-4f4b-838d-447432b97918",\n      "type": "HttpData"\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(t.p,{children:["The most relevant part of the edc payload are the fields ",(0,i.jsx)(t.code,{children:"assetDto#asset:prop:id"})," and ",(0,i.jsx)(t.code,{children:"dataAddressDto:endpoint"}),"."]}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Field"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"asset#properties#asset:prop:id"})}),(0,i.jsxs)(t.td,{children:["The value of this field has to match the following pattern ",(0,i.jsx)(t.strong,{children:"[DIGITAL_TWIN_ID]-[DIGITAL_TWIN_SUBMODEL_ID]"}),". The Digital Twin Registry allows you to set the ids by yourself. You can generate the ids (UUIDv4) for the EDC Asset and use the same ids to create the Digital Twin and Submodel in the Digital Twin Registry. For an example, please have a look at the Postman collection."]})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"dataAddress#properties#endpoint"})}),(0,i.jsxs)(t.td,{children:["This is the URL of your submodel server that provides the data we created in ",(0,i.jsx)(t.strong,{children:"Step 1"}),". You are free to define the URL on your own. The only requirement is that it returns the requested data for the Digital Twins submodel.**"]})]})]})]}),"\n",(0,i.jsx)(t.admonition,{title:"Action",type:"note",children:(0,i.jsxs)(t.p,{children:["Please run the request ",(0,i.jsx)(t.code,{children:"2. Create an EDC Asset"})," of the ",(0,i.jsx)(t.strong,{children:"Postman"})," collection."]})}),"\n",(0,i.jsx)(t.h4,{id:"step-3-create-an-edc-policy",children:"Step 3: Create an EDC policy"}),"\n",(0,i.jsx)(t.p,{children:"The request payload to create an EDC policy is:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  // {{edcPolicyId}}\n  "uid": "231802-bb34-11ec-8422-0242ac120002",\n  "permissions": [\n    {\n      // {{digitalTwinId}}-{{digitalTwinSubmodelId}}\n      // highlight-next-line \n      "target": "urn:uuid:365e6fbe-bb34-11ec-8422-0242ac120002-urn:uuid:61125dc3-5e6f-4f4b-838d-447432b97918",\n      "action": {\n        "type": "USE"\n      },\n      "edctype": "dataspaceconnector:permission"\n    }\n  ],\n  "@type": {\n    "@policytype": "set"\n  }\n}\n'})}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Field"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsx)(t.tbody,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"permissions[0]#target"})}),(0,i.jsxs)(t.td,{children:["Must match the EDC asset id ",(0,i.jsx)(t.code,{children:"asset#properties#asset:prop:id"}),"."]})]})})]}),"\n",(0,i.jsx)(t.admonition,{title:"Action",type:"note",children:(0,i.jsxs)(t.p,{children:["Please run the request ",(0,i.jsx)(t.code,{children:"3. Create an EDC policy"})," in the ",(0,i.jsx)(t.strong,{children:"Postman"})," collection."]})}),"\n",(0,i.jsx)(t.h4,{id:"step-4-create-a-edc-contract-definition",children:"Step 4: Create a EDC contract definition"}),"\n",(0,i.jsx)(t.p,{children:"The request payload for the creating an EDC contract definition is:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n  "id": "1",\n  // {{edcPolicyId}}\n  // highlight-next-line\n  "accessPolicyId": "231802-bb34-11ec-8422-0242ac120002",\n  // {{edcPolicyId}}\n  // highlight-next-line\n  "contractPolicyId": "231802-bb34-11ec-8422-0242ac120002",\n  "criteria": []\n}\n'})}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Field"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"accessPolicyId"})}),(0,i.jsx)(t.td,{children:"Must match the EDC policy uuid."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"contractPolicyId"})}),(0,i.jsx)(t.td,{children:"Must match the EDC policy uuid."})]})]})]}),"\n",(0,i.jsx)(t.admonition,{title:"Action",type:"note",children:(0,i.jsxs)(t.p,{children:["Please run the request ",(0,i.jsx)(t.code,{children:"3. Create an EDC Contract definition"})," of the ",(0,i.jsx)(t.strong,{children:"Postman"})," collection."]})}),"\n",(0,i.jsx)(c,{}),"\n",(0,i.jsx)(t.h4,{id:"step-5-register-digital-twin-with-a-reference-to-submodel-data",children:"Step 5: Register digital twin with a reference to submodel data"}),"\n",(0,i.jsx)(t.p,{children:"The Digital Twin Registry is like an address book. By registering a digital twin you enable data consumers to access your data.\nThe payload for the creation of a digital twin is:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'{\n    // "description" omitted\n    "globalAssetId": {\n        "value": [\n            // highlight-next-line\n            "{{digitalTwinId}}"\n        ]\n    },\n    "idShort": "BMW 520e Plugin-Hybrid",\n    // urn:uuid:365e6fbe-bb34-11ec-8422-0242ac120002\n    // highlight-next-line\n    "identification": "urn:uuid:365e6fbe-bb34-11ec-8422-0242ac120002",\n    // highlight-next-line\n    "specificAssetIds": [\n        {\n            "key": "PartNumber",\n            "value": "31BK"\n        },\n        {\n            "key": "VAN",\n            "value": "7e97f714-0785-3f9d-ac37-b31989097be3"\n        }\n    ],\n    "submodelDescriptors": [\n        {\n            // "description" omitted\n            "idShort": "traceability",\n            // {{digitalTwinSubmodelId}}\n            // highlight-next-line\n            "identification": "urn:uuid:61125dc3-5e6f-4f4b-838d-447432b97918",\n            "semanticId": {\n                "value": [\n                    // highlight-next-line\n                    "urn:bamm:com.catenax.battery.product_description:1.0.1#ProductDescription"\n                ]\n            },\n            "endpoints": [\n                {\n                    "interface": "SUBMODEL-1.0RC02",\n                    "protocolInformation": {\n                        // {{providerControlPlaneDockerInternal}}/{{providerBpn}}/{{digitalTwinId}}-{{digitalTwinSubmodelId}}\n                        // highlight-next-line\n                        "endpointAddress": "http://provider-control-plane:8080/some-bpn/urn:uuid:365e6fbe-bb34-11ec-8422-0242ac120002-urn:uuid:61125dc3-5e6f-4f4b-838d-447432b97918/submodel?content=value&extent=withBlobValue",\n                        "endpointProtocol": "IDS/ECLIPSE DATASPACE CONNECTOR",\n                        "endpointProtocolVersion": "0.0.1-SNAPSHOT"\n                    }\n                }\n            ]\n        }\n    ]\n}\n'})}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Field"}),(0,i.jsx)(t.th,{children:"Description"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"globalAssetId#value[0]"})}),(0,i.jsx)(t.td,{children:"The global asset id is meant to identify a physical asset uniquely. The MAC-Address a real world example. In the manufacturing world such a global asset id does not yet exist. Therefore the value here must be equal to the Digital Twin id (#identification)."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"specificAssetIds"})}),(0,i.jsx)(t.td,{children:"Your digital twin can be searched for by sspecificAssetIds."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"identification"})}),(0,i.jsx)(t.td,{children:"The uuid you can set by yourself."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"submodeldescriptors[0]#identification"})}),(0,i.jsx)(t.td,{children:"The uuid you can set by yourself."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"submodeldescriptors[0]#semanticId[0]#value"})}),(0,i.jsx)(t.td,{children:"The urn of the Semantic Model. The Semantic Model describes the structure of the data your submodel endpoint returns. It is the structure definition that a data consumer expects when calling your submodel endpoint."})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:(0,i.jsx)(t.code,{children:"submodeldescriptors[0]#endpoints[0]#protocolInformation#endpointAddress"})}),(0,i.jsxs)(t.td,{children:["The URL must be structured as in the example above. The URL contains the Business-Partner-Number (BPN) and the asset id (",(0,i.jsx)(t.strong,{children:"[DIGITAL_TWIN_ID]-[DIGITAL_TWIN_SUBMODEL_ID]"}),") which is used to filter for an EDC Asset to get the endpoint of your submodel endpoint in ",(0,i.jsx)(t.code,{children:"dataAddress#properties#endpoint"}),"."]})]})]})]}),"\n",(0,i.jsx)(t.admonition,{title:"Action",type:"note",children:(0,i.jsxs)(t.p,{children:["Please run the request ",(0,i.jsx)(t.code,{children:"5. Create a Digital Twin"})," of the ",(0,i.jsx)(t.strong,{children:"Postman"})," collection."]})}),"\n",(0,i.jsx)(c,{}),"\n",(0,i.jsx)(t.h3,{id:"request-data-of-a-digital-twin",children:"Request data of a digital twin"}),"\n",(0,i.jsxs)(t.p,{children:["In this section, we will focus on the steps a ",(0,i.jsx)(t.strong,{children:"Data Consumer"})," has to follow."]}),"\n",(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(t.p,{children:"Actor: Data Consumer"})}),(0,i.jsx)("div",{children:(0,i.jsx)(t.p,{children:"The Data Consumer are accessing the Digital Twin Registry to discover and consume data from the Submodel Descriptor Endpoints.\nSearching the Digital Twin Registry and requesting data of a digital twin are the main interests of a Data Consumer."})})]}),"\n",(0,i.jsx)(t.admonition,{title:"Info",type:"info",children:(0,i.jsxs)(t.p,{children:["The folder ",(0,i.jsx)(t.strong,{children:"Data Consumer"})," of the Postman collection contains the API calls for this section."]})}),"\n",(0,i.jsx)(t.h4,{id:"step-1-query-for-a-digital-twin",children:"Step 1: Query for a Digital Twin"}),"\n",(0,i.jsxs)(t.p,{children:["To find the Digital Twin we created earlier we can use the lookup API of the Digital Twin Registry.\nThe lookup API requires us to provide ",(0,i.jsx)(t.code,{children:"specificAssetIds"})," of the Digital Twin that we want to search for."]}),"\n",(0,i.jsxs)(t.p,{children:["The API expects the ",(0,i.jsx)(t.code,{children:"specificAssetIds"})," as ",(0,i.jsx)(t.code,{children:"URL"})," encoded ",(0,i.jsx)(t.code,{children:"JSON Array"})," query parameter."]}),"\n",(0,i.jsxs)(t.p,{children:["Please open the Postman request ",(0,i.jsx)(t.code,{children:"1. Query for a Digital Twin"})," and note the ",(0,i.jsx)(t.code,{children:"assetId"})," query parameter.\nYou can decode the value with Postman to make it more readable. Mark the complete value, right-click and use the button ",(0,i.jsx)(t.code,{children:"DecodeURIComponent"}),"."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"End-To-End interaction",src:n(9260).Z+"",width:"1585",height:"757"})}),"\n",(0,i.jsxs)(t.p,{children:["The decoded value is as below. Note that the key and value of the entry match exactly the ",(0,i.jsx)(t.code,{children:"specificAssetIds"})," of the DigitalTwin we created.\nThe API returns all DigitalTwins matching the key-value pair. If you want to avoid multiple results you can query more specifically by providing multiple key-value pairs."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'[\n  {\n    "key": "PartNumber",\n    "value": "31BK"\n  }\n]\n'})}),"\n",(0,i.jsx)(t.admonition,{title:"Action",type:"note",children:(0,i.jsxs)(t.p,{children:["Please run the request ",(0,i.jsx)(t.code,{children:"1. Query for a Digital Twin"})," of the ",(0,i.jsx)(t.strong,{children:"Postman"})," collection."]})}),"\n",(0,i.jsxs)(t.p,{children:["The response contains the ",(0,i.jsx)(t.code,{children:"identification"})," of our Digital Twin."]}),"\n",(0,i.jsx)(t.h4,{id:"step-2-get-digital-twin-by-identification",children:"Step 2: Get Digital Twin by identification"}),"\n",(0,i.jsxs)(t.p,{children:["We can now use the found ",(0,i.jsx)(t.code,{children:"identification"})," to get the complete details of our Digital Twin."]}),"\n",(0,i.jsx)(t.admonition,{title:"Action",type:"note",children:(0,i.jsxs)(t.p,{children:["Please run the request ",(0,i.jsx)(t.code,{children:"1.2 Query for a Digital Twin"})," of the ",(0,i.jsx)(t.strong,{children:"Postman"})," collection."]})}),"\n",(0,i.jsxs)(t.p,{children:["You may already notice that the ",(0,i.jsx)(t.code,{children:"URL"})," we executed the previous request is targeted to the ",(0,i.jsx)(t.strong,{children:"AAS Proxy"}),".\nThe ",(0,i.jsx)(t.strong,{children:"AAS Proxy"})," abstracts the resolution of the ",(0,i.jsx)(t.code,{children:"SubmodelDescriptor"})," endpoint addresses to ",(0,i.jsx)(t.strong,{children:"API-Wrapper"})," compatible endpoints.\nThe ",(0,i.jsx)(t.strong,{children:"API-Wrapper"})," is an essential component and handles all the ",(0,i.jsx)(t.code,{children:"EDC"})," complexities for you."]}),"\n",(0,i.jsxs)(t.p,{children:["Take a look to the ",(0,i.jsx)(t.code,{children:"SubmodelDescriptor#endpoints#endpointAddress"})," in the response."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'"submodelDescriptors": [\n        {\n            ...\n            "endpoints": [\n                {\n                    "interface": "SUBMODEL-1.0RC02",\n                    "protocolInformation": {\n                        // highlight-next-line\n                        "endpointAddress": "http://localhost:4245/shells/urn:uuid:365e6fbe-bb34-11ec-8422-0242ac120002/aas/urn:uuid:61125dc3-5e6f-4f4b-838d-447432b97918/submodel?content=value&extent=withBlobValue",\n                        "endpointProtocol": "HTTP",\n                        "endpointProtocolVersion": "1.1"\n                    }\n                }\n            ],\n          \n        }\n    ]\n'})}),"\n",(0,i.jsxs)(t.p,{children:["The endpoint address is different from what we registered in ",(0,i.jsx)(t.code,{children:"Step 5"}),".\nPlease run the Postman Request ",(0,i.jsx)(t.code,{children:"1.2 NON-PROXY Query for a Digital Twin"})," of the ",(0,i.jsx)(t.strong,{children:"Postman"})," collection.\nThe request is targeted directly to the Digital Twin registry."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'"submodelDescriptors": [\n        {\n            ...\n            "endpoints": [\n                {\n                    "interface": "SUBMODEL-1.0RC02",\n                    "protocolInformation": {\n                        // highlight-next-line\n                        "endpointAddress": "http://provider-control-plane:8090/some-bpn/urn:uuid:365e6fbe-bb34-11ec-8422-0242ac120002-urn:uuid:61125dc3-5e6f-4f4b-838d-447432b97918/submodel?content=value&extent=withBlobValue",\n                        "endpointProtocol": "IDS/ECLIPSE DATASPACE CONNECTOR",\n                        "endpointProtocolVersion": "0.0.1-SNAPSHOT"\n                    }\n                }\n            ]\n        }\n    ]\n'})}),"\n",(0,i.jsxs)(t.p,{children:["The AAS Proxy rewrites the URL to itself. ",(0,i.jsx)(t.code,{children:"localhost:4245"})," is the local address of the AAS Proxy.\nIf you invoke the endpoint address of the ",(0,i.jsx)(t.code,{children:"SubmodelDescriptor"})," the AAS Proxy will call the ",(0,i.jsx)(t.strong,{children:"API-Wrapper"})," which in turn requests the data through the EDC connectors."]}),"\n",(0,i.jsx)(t.h4,{id:"step-3-get-submodel-data",children:"Step 3: Get Submodel Data"}),"\n",(0,i.jsxs)(t.p,{children:["Finally, we can request the data created in ",(0,i.jsx)(t.code,{children:"Step 1"}),"."]}),"\n",(0,i.jsx)(t.admonition,{title:"Action",type:"note",children:(0,i.jsxs)(t.p,{children:["Please run the request ",(0,i.jsx)(t.code,{children:"2. /submodel - Get submodel data"})," of the ",(0,i.jsx)(t.strong,{children:"Postman"})," collection."]})}),"\n",(0,i.jsxs)(t.p,{children:["Note that the URL is the same as the ",(0,i.jsx)(t.code,{children:"SubmodelDescriptor"})," endpoint of our Digital Twin we requested from the ",(0,i.jsx)(t.strong,{children:"AAS Proxy"}),"."]}),"\n",(0,i.jsxs)(t.p,{children:["The Postman request ",(0,i.jsx)(t.code,{children:"2.1 /submodel - WITHOUT-AAS-PROXY"})," contains an example of the API call against the ",(0,i.jsx)(t.strong,{children:"AAS Proxy"})," issues against the ",(0,i.jsx)(t.strong,{children:"API-Wrapper"}),".\nThis detail is important for you when you do not want to deploy the AAS Proxy so that you can replicate the logic in your solution."]}),"\n",(0,i.jsx)(t.admonition,{type:"success",children:(0,i.jsx)(t.p,{children:"Congratulations, you successfully finished the guide!"})}),"\n",(0,i.jsx)(t.admonition,{type:"warning",children:(0,i.jsx)(t.p,{children:"Please note that all docker images used in this guide are not meant to be used in production.\nThey are all configured with in-memory databases and predefined SSL certificates."})}),"\n",(0,i.jsx)(c,{})]})}function u(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},7987:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/catenax_at_home_postman_variables-3722c7cc8c2b429e8fffc3e8fc81c3bb.png"},9260:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/postman-assetids-decode-236b62e2c50e2ae28a145bce83d53570.png"},5944:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/sequence-end-to-end-a48eb27c7cde88a3122c1d3ac4e6bcd0.png"},1151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>a});var i=n(7294);const s={},r=i.createContext(s);function a(e){const t=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);