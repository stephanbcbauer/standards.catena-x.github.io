"use strict";(self.webpackChunkcatenax_ng=self.webpackChunkcatenax_ng||[]).push([[4522],{9771:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>p,frontMatter:()=>n,metadata:()=>o,toc:()=>l});var i=a(5893),r=a(1151);const n={title:"How to Access a Private Repo and a Private Package/Image"},s=void 0,o={id:"guides/how-to-prepare-a-private-repo",title:"How to Access a Private Repo and a Private Package/Image",description:"Accessing a private repo",source:"@site/docs/guides/how-to-prepare-a-private-repo.md",sourceDirName:"guides",slug:"/guides/how-to-prepare-a-private-repo",permalink:"/docs/guides/how-to-prepare-a-private-repo",draft:!1,unlisted:!1,editUrl:"https://github.com/catenax-ng/catenax-ng.github.io/edit/main/docs/guides/how-to-prepare-a-private-repo.md",tags:[],version:"current",frontMatter:{title:"How to Access a Private Repo and a Private Package/Image"},sidebar:"tutorialSidebar",previous:{title:"How to trigger a workflow in another repository",permalink:"/docs/guides/how-to-cross-repo-workflow-dispatch"},next:{title:"How to use Two-Factor Authentication (2FA) with GitHub.com",permalink:"/docs/guides/how-to-use-2fa-with-github"}},c={},l=[{value:"Accessing a private repo",id:"accessing-a-private-repo",level:2},{value:"1. Create an ssh-key",id:"1-create-an-ssh-key",level:3},{value:"2. Create a key/value pair in the vault",id:"2-create-a-keyvalue-pair-in-the-vault",level:3},{value:"Accessing a private package/image",id:"accessing-a-private-packageimage",level:2}];function d(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"accessing-a-private-repo",children:"Accessing a private repo"}),"\n",(0,i.jsx)(t.p,{children:"If your GitHub repo is set to private, you have to do following to be able to onboard"}),"\n",(0,i.jsx)(t.h3,{id:"1-create-an-ssh-key",children:"1. Create an ssh-key"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["e.g. ",(0,i.jsx)(t.code,{children:"ssh-keygen -t ed25519"})]}),"\n",(0,i.jsx)(t.li,{children:"Don\xb4t use a passphrase"}),"\n",(0,i.jsx)(t.li,{children:"Save key to a safe place"}),"\n",(0,i.jsxs)(t.li,{children:["Add sshPublicKey to your Github repo under settings - deploy key.","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"This will only be possible if you have admin role for the repo."}),"\n",(0,i.jsx)(t.li,{children:"If you don\xb4t have this role, please ask someone else from your team who has appropriate rights."}),"\n",(0,i.jsx)(t.li,{children:"You may also send the public key to DevSecOps to put the key to the repo."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"2-create-a-keyvalue-pair-in-the-vault",children:"2. Create a key/value pair in the vault"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Navigate to ",(0,i.jsx)(t.a,{href:"https://vault.demo.catena-x.net",children:"https://vault.demo.catena-x.net"})]}),"\n",(0,i.jsx)(t.li,{children:"Click your Secrets Engine"}),"\n",(0,i.jsxs)(t.li,{children:['Click "',(0,i.jsx)(t.em,{children:"Create secret +"}),'"']}),"\n",(0,i.jsx)(t.li,{children:'In field "Path for this secret" type "deploy-key"'}),"\n",(0,i.jsx)(t.li,{children:'Under "Secret data" name the key "[PRODUCT_NAME]-deploy-key"'}),"\n",(0,i.jsx)(t.li,{children:"Paste your sshPrivateKey to the value field"}),"\n",(0,i.jsx)(t.li,{children:"Save"}),"\n",(0,i.jsx)(t.li,{children:"Provide this information to DevSecOps team with your ArgoCD project request"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"accessing-a-private-packageimage",children:"Accessing a private package/image"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Pull secret ",(0,i.jsx)(t.code,{children:"machineuser-pull-secret-ro"})," has to be added to the product\xb4s code"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-yaml",children:"imagePullSecrets:\n  - name: machineuser-pull-secret-ro\n"})}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},1151:(e,t,a)=>{a.d(t,{Z:()=>o,a:()=>s});var i=a(7294);const r={},n=i.createContext(r);function s(e){const t=i.useContext(n);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(n.Provider,{value:t},e.children)}}}]);